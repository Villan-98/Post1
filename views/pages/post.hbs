<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="/js/jquery-3.2.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="/js/post.js"></script>
    <title>Title</title>


</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-2 bg-light">
            <div class="row">

                <div class="col" >
                    <i class="fas fa-user-circle " style="font-size:200px"></i>

                    <div  class="text-center nav flex-column nav-pills">
                        <div>
                            <a class="nav-link " href="http://localhost:2400/user/home" style="font-size:15px">Home</a>

                        </div>

                        <div>

                            <a class="nav-link active"href="http://localhost:2400/user/Mypost"style="font-size:15px">My Profile</a>
                        </div>
                        <div>

                            <a class="nav-link "href="http://localhost:2400/user/achievement" style="font-size:15px">Achievement</a>
                        </div>
                        <div>

                            <a class="nav-link" href="http://localhost:2400/user/Mypost" style="font-size:15px">Notifications</a>
                        </div>
                        <div>

                            <a class="nav-link"href="http://localhost:2400/user/profile"style="font-size:15px">Edit Profile</a>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="col" style="float:left;overflow-y: auto;height: 780px;">
            <form action="/post" method="post">
                <div class="form-group">
                    <div class="my-2">

                        <textarea class="form-control" name="text" placeholder="What's on your Mind" rows="3"></textarea>

                    </div>
                    <div>
                        <input type="hidden" name="userId" value="{{posts.UserId}}">
                    </div>
                    <button type="submit" class="btn btn-primary px-4 ">Post</button>
<!--
                    {{#if posts.active}}
                        <button type="submit" class="btn btn-primary px-4 ">Post</button>
                    {{else}}
                        <button type="submit" class="btn btn-primary px-4 disabled" disabled>Post</button>
                    {{/if}}
-->
                </div>
            </form>
            <div class="row">
                <div class="col">

                    <div class="jumbotron pt-4">
                        <h2 class="text-center"style="font-family: Century" >Profile</h2>
                        <div class="row">
                            <div class="col-3">
                                Username:
                            </div>
                            <div>
                                {{posts.username}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2">
                                College:
                            </div>
                            <div class="col">
                                {{posts.college}}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-2">
                                <a href="#posts">Total Posts:</a>
                            </div>
                            <div class="col-2">
                            </div>
                            <div class="col-2">
                                Total Points:
                            </div>
                            <div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-2">
                                Weekly Rank:
                            </div>
                            <div class="col-1">
                            </div>
                            <div class="col-2">
                                Monthly Rank:
                            </div>
                            <div class="col-1">

                            </div>
                            <div class="col-2">
                                Overall Rank:
                            </div>
                            <div class="col-1">

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-3">
                                Your Rights:
                            </div>
                            <div class="col">
                                {{posts.rights}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                               <a href="#">Badges:</a>
                            </div>
                            <div class="col">
                            </div>
                            <div class="col-3">
                                <a href="#">Ratings:</a>
                            </div>
                            <div class="col">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                </div>
            </div>
            <div id="posts">
            <h2 class="text-center" style="font-family: Century">
                Your Posts
            </h2>
            {{#each posts as |post|}}
                <div class="bg-light py-2 px-2 my-2">
                    <div class="bg-white">{{post.user.name}}</div>
                    {{#if post.pic}}

                                           <img src='/upload/{{post.address}}' >
                    {{else}}
                        <div >

                            {{post.text}}
                            {{post.pic}}

                        </div>
                    {{/if}}

                <div class="row mt-3">

                <div class="col-lg-1 col-sm-2" id="L{{post.id}}">
                    {{#if post.likes.0.value}}
                        <i class="fa fa-thumbs-up" onclick="like_post({{post.id}},-1,{{post.vote}},0)" style="font-size: 36px" aria-hidden="true">{{post.likes.value}}</i></div>
                    {{else}}
                        <i class="fa fa-thumbs-o-up" onclick="like_post({{post.id}},1,{{post.vote}},1)" style="font-size: 36px" aria-hidden="true"></i></div>

                    {{/if}}
                    <div class="col-lg-1 col-sm-2" id="D{{post.id}}">
                        {{#if post.dislikes.0.value}}
                            <i class="fa fa-thumbs-down"onclick="like_post({{post.id}},1,{{post.vote}},0)" style="font-size:36px"aria-hidden="true"></i>

                        {{else}}
                            <i class="fa fa-thumbs-o-down"onclick="like_post({{post.id}},-1,{{post.vote}},1)" style="font-size:36px"aria-hidden="true"></i>

                        {{/if}}
                    </div>
                    <div id="V{{post.id}}" class="col-1">
                        <div>
                            {{post.vote}}
                        </div>
                    </div>
                    <div class="col">

                        <button class="btn btn-light" type="button" id="b{{post.id}}" onclick="fetch_comment({{post.id}})"  data-toggle="collapse" data-target="#{{post.id}}" aria-expanded="false" aria-controls="collapseExample">
                            Comment
                        </button>
                    </div>

                    <div class="col float-left">
                        <i class="fa fa-trash-o float-right btn-light" onclick="delete_post({{post.id}},{{post.user.id}})" style="font-size:36px;color:red"></i>
                    </div>
                </div>
                <div class="collapse" id="{{post.id}}">
                    <div class="card card-body">
                        <div class="row">
                            <div class="col">

                                <form action="/post/comment" method="post" id="myform">
                                    <div class="form-group">
                                        <div class="row">

                                            <div class="col-8">

                                                <textarea class="form-control" name="text" placeholder="Write Your comment here" rows="1"></textarea>

                                            </div>

                                            <div class="col-1">
                                                <input type="hidden" name="postId" value="{{post.id}}">

                                            </div>

                                            <div class="col-1">
                                                <input type="hidden" name="userId" value="{{../posts.UserId}}">

                                            </div>
                                            <div class="col-2">

                                                <button type="submit" class="btn btn-primary px-4 ">Send</button>
                                            </div>

                                        </div>
                                    </div>
                                </form>
                                <div class="row">

                                    <div id="C{{post.id}}" class="col testing">

                                    </div >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
            </div>
        </div>
        <div class="col-2" style="background-color: whitesmoke;font-family: Century">
            <h2>
                Leader Board
            </h2>
            <div class="row">
                <div class="col" id="HV">

                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>